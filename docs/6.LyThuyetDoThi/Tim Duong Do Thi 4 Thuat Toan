# ğŸ“š Tá»”NG Há»¢P 4 THUáº¬T TOÃN TÃŒM ÄÆ¯á»œNG TRONG Äá»’ THá»Š
# Bao gá»“m: Dijkstra, Floyd-Warshall, Bellman-Ford, BFS
# Má»—i thuáº­t toÃ¡n cÃ³ vÃ­ dá»¥ input vÃ  giáº£i thÃ­ch tá»«ng dÃ²ng

import heapq
from collections import deque

# ========== DIJKSTRA ==========
# Äiá»u kiá»‡n: trá»ng sá»‘ khÃ´ng Ã¢m, tÃ¬m Ä‘Æ°á»ng Ä‘i ngáº¯n nháº¥t tá»« 1 Ä‘á»‰nh
# Input máº«u:
# 4 5
# 1 2 1
# 1 3 4
# 2 3 2
# 2 4 6
# 3 4 3

n, m = 4, 5
edges = [
    (1, 2, 1),
    (1, 3, 4),
    (2, 3, 2),
    (2, 4, 6),
    (3, 4, 3)
]

# Táº¡o ma tráº­n trá»ng sá»‘ ban Ä‘áº§u
adj = [[0]*n for _ in range(n)]
for u, v, w in edges:
    adj[u-1][v-1] = w  # cÃ³ hÆ°á»›ng

# Dijkstra tá»« node 0
INF = int(1e9)
dist = [INF]*n
dist[0] = 0
pq = [(0, 0)]  # (khoáº£ng cÃ¡ch, node)

while pq:
    d, u = heapq.heappop(pq)
    if d > dist[u]: continue
    for v in range(n):
        if adj[u][v]:
            if dist[v] > dist[u] + adj[u][v]:
                dist[v] = dist[u] + adj[u][v]
                heapq.heappush(pq, (dist[v], v))
print("\nğŸ”¹ Dijkstra tá»« Ä‘á»‰nh 1:", dist)

# ========== FLOYD-WARSHALL ==========
# Äiá»u kiá»‡n: Ä‘á»“ thá»‹ nhá» (n â‰¤ 500), tÃ¬m Ä‘Æ°á»ng Ä‘i ngáº¯n nháº¥t má»i cáº·p
fw = [[INF]*n for _ in range(n)]
for i in range(n):
    fw[i][i] = 0
for u, v, w in edges:
    fw[u-1][v-1] = w

for k in range(n):
    for i in range(n):
        for j in range(n):
            fw[i][j] = min(fw[i][j], fw[i][k] + fw[k][j])

print("\nğŸ”¹ Floyd-Warshall (má»i cáº·p):")
for row in fw:
    print(row)

# ========== BELLMAN-FORD ==========
# Há»— trá»£ trá»ng sá»‘ Ã¢m, tÃ¬m Ä‘Æ°á»ng tá»« 1 Ä‘á»‰nh
bf_dist = [INF]*n
bf_dist[0] = 0

for _ in range(n-1):  # láº·p n-1 láº§n
    for u, v, w in edges:
        u -= 1; v -= 1
        if bf_dist[u] + w < bf_dist[v]:
            bf_dist[v] = bf_dist[u] + w
print("\nğŸ”¹ Bellman-Ford tá»« Ä‘á»‰nh 1:", bf_dist)

# ========== BFS (Äá»’ THá»Š KHÃ”NG TRá»ŒNG Sá») ==========
# DÃ¹ng Ä‘á»ƒ kiá»ƒm tra cÃ³ Ä‘Æ°á»ng Ä‘i hay khÃ´ng / hoáº·c khoáº£ng cÃ¡ch Ä‘á»u báº±ng 1
# Input: danh sÃ¡ch ká» khÃ´ng trá»ng sá»‘
g = [[], [], [], []]
g[0].append(1)
g[0].append(2)
g[1].append(3)
g[2].append(3)

visited = [False]*n
dist_bfs = [-1]*n
dist_bfs[0] = 0
q = deque([0])
visited[0] = True

while q:
    u = q.popleft()
    for v in g[u]:
        if not visited[v]:
            visited[v] = True
            dist_bfs[v] = dist_bfs[u] + 1
            q.append(v)
print("\nğŸ”¹ BFS (khÃ´ng trá»ng sá»‘) tá»« Ä‘á»‰nh 1:", dist_bfs)
